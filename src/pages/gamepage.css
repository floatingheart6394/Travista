/* Styles for Worldbound game page - calm, premium palette */
.worldbound-page {
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  color: #22303a;
  background: linear-gradient(180deg,#fbfdff 0%,#f5f8fb 100%);
  min-height: 100vh;
}
.worldbound-container {
  display: flex;
  gap: 24px;
  padding: 28px;
  max-width: 1100px;
  margin: 18px auto;
}
.left-col { flex: 1.2; display:flex; flex-direction:column; gap:18px }
.right-col { width: 360px; display:flex; flex-direction:column; gap:18px }

.wb-map-card { background: white; border-radius:12px; padding:14px; box-shadow: 0 6px 20px rgba(21,32,41,0.06) }
.map-header h3 { margin:0; font-weight:600 }
.muted { color:#6b7280; font-size:13px }
.wb-map { width:100%; height:280px; display:block }
.wb-map { cursor: default }
.map-footer { margin-top:8px; font-size:12px }
.region text { pointer-events:none }
.region { cursor: pointer }

/* Strongly override global cursor:none for this page only */
.worldbound-page, .worldbound-page * {
  cursor: auto !important;
}

/* Ensure interactive elements show pointer explicitly */
.worldbound-page button, .worldbound-page .qp-action, .worldbound-page .region {
  cursor: pointer !important;
}

/* Leaflet-specific cursor and hotspot pointer */
.leaflet-container { cursor: grab !important; }
.leaflet-container:active { cursor: grabbing !important; }
.leaflet-container .hotspot { cursor: pointer !important; }

/* Prevent large SVG layers from blocking pointer events; only interactive nodes receive events */
.wb-map .continents,
.wb-map defs,
.wb-map rect,
.wb-map g[mask],
.wb-map .map-overlay {
  pointer-events: none;
}

/* Ensure region groups receive pointer events */
.wb-map .region { pointer-events: auto }
.region.unlocked circle { transition: transform .18s ease, fill .18s }
.region.unlocked:hover circle { transform: scale(1.05) }

/* unlocked reveal animation */
.region.just-unlocked { transform-origin: center; }
.region.just-unlocked circle { animation: reveal-pop 900ms ease forwards }
@keyframes reveal-pop {
  0% { transform: scale(0.2); opacity: 0 }
  60% { transform: scale(1.15); opacity: 1 }
  100% { transform: scale(1); opacity: 1 }
}

.collection-card { background: linear-gradient(180deg,#ffffff,#fbfdff); padding:12px; border-radius:12px; box-shadow:0 4px 10px rgba(16,24,32,0.04) }
.collection-grid { display:grid; grid-template-columns:repeat(3,1fr); gap:10px; margin-top:10px }
.collection-item { background:#f8fafc; border-radius:8px; padding:10px; text-align:center; min-height:70px }
.collection-icon { width:36px; height:36px; background:linear-gradient(135deg,#e6f4f8,#f6f8fb); margin:0 auto 6px; border-radius:8px }
.collection-title { font-size:13px; font-weight:600 }
.collection-sub { font-size:11px }

.map-header h3 { margin:0; font-weight:700; letter-spacing:0.2px }
.map-header .muted { margin-top:4px }

.qp-card { background:white; padding:14px; border-radius:12px; box-shadow: 0 6px 18px rgba(14,24,32,0.05) }
.qp-list { display:flex; flex-direction:column; gap:12px; margin-top:10px }
.qp-item { display:flex; justify-content:space-between; gap:12px; align-items:center }
.qp-title { font-weight:600 }
.qp-desc { font-size:13px }
.qp-right { width:160px; text-align:right }
.qp-action { margin-top:8px; background:#243b4a; color:white; border:none; padding:8px 10px; border-radius:8px; cursor:pointer }
.qp-action:disabled { opacity:0.5; cursor:default }
.qp-progress { display:flex; align-items:center; gap:8px }
.qp-track { background:#eef2f5; width:90px; height:8px; border-radius:8px; overflow:hidden }
.qp-fill { background: linear-gradient(90deg,#7fb6c6,#4b8896); height:100%; transition: width 560ms cubic-bezier(.2,.9,.2,1) }
.qp-pct { font-size:12px; color:#475569 }

.pp-card { background:white; padding:14px; border-radius:12px; box-shadow: 0 10px 30px rgba(12,24,32,0.06); position:relative; overflow:visible }
.pp-top { display:flex; justify-content:space-between; align-items:center }
.pp-level { font-size:18px; font-weight:700 }
.pp-title { font-size:13px }
.pp-xp { font-weight:600 }
.pp-progress { margin-top:12px }
.pp-track { background:#eef2f5; height:10px; border-radius:8px; overflow:hidden }
.pp-fill { background: linear-gradient(90deg,#90c3d4,#4b8896); height:100%; transition: width 640ms cubic-bezier(.2,.9,.2,1) }
.pp-next { font-size:12px; margin-top:8px }
.pp-note { font-size:12px; margin-top:8px }
.pp-levelup-banner { position:absolute; top:-12px; left:12px; background:linear-gradient(90deg,#ffd6a6,#fff1e0); color:#5a3b14; padding:8px 12px; border-radius:10px; font-weight:700; box-shadow:0 8px 24px rgba(18,20,22,0.08) }


.rb-modal-overlay { position:fixed; inset:0; background:rgba(6,12,20,0.4); display:flex; align-items:center; justify-content:center; z-index:60 }
.rb-modal { background:white; width:420px; border-radius:12px; padding:18px; box-shadow:0 20px 60px rgba(15,20,30,0.3) }
.rb-header h3 { margin:0 }
.rb-body { margin-top:12px }
.rb-actions { display:flex; justify-content:flex-end; gap:10px; margin-top:16px }
.btn { padding:8px 12px; border-radius:8px; cursor:pointer; border:none }
.btn-ghost { background:#eef2f5 }
.btn-primary { background:#05364a; color:white }

.rb-hint { background:#f8fafc; padding:10px; border-radius:8px; margin-top:8px; color:#334155 }


/* subtle responsive */
@media (max-width: 900px) {
  .worldbound-container { flex-direction:column; padding:18px }
  .right-col { width:100% }
}
